function armInitAngularElement(e,r){return"undefined"!=e&&angular.bootstrap(jQuery("#"+e),[r]),!1}function ARMCtrl(e,r,t){e.masterFormData={},e.armPW="",e.arm_form={},e.arm_form_ca={},e.arm_form.user_pass="";e.arm_form;e.armPlanChange=function(r){t(function(){var t=jQuery("#"+r+" .arm_module_plan_input").attr("aria-owns"),a=jQuery("#"+t).find('md-option[selected="selected"]');jQuery("#"+r+' input:radio[name="arm_selected_payment_mode"]').length&&jQuery("#"+r+' input:radio[name="arm_selected_payment_mode"]').filter('[value="auto_debit_subscription"]').prop("checked",!0),armSetupHideShowSections1("#"+r,a);var n=jQuery("#"+r+' [data-id="arm_front_gateway_skin_type"]').val();if("dropdown"==n){var t=jQuery("#"+r+" .arm_module_gateway_input").attr("aria-owns"),i=jQuery("#"+t).find("md-option:first").attr("value");e.payment_gateway=i,e.arm_form.payment_gateway=i,e.armPaymentGatewayChange(r)}})},e.armPaymentGatewayChange=function(r){var a=e.payment_gateway;e.arm_form.payment_gateway=a;var n=jQuery("#"+r+' [data-id="arm_total_payable_amount"]').val(),i=jQuery("#"+r+" [name=arm_selected_payment_mode]:checked").val();"0.00"!=n&&"0"!=n?(jQuery("#"+r+" .arm_module_gateway_fields").not(".arm_module_gateway_fields_"+a).slideUp("slow").addClass("arm_hide"),jQuery("#"+r+" .arm_module_gateway_fields_"+a).slideDown("slow").removeClass("arm_hide")):"0.00"!=n&&"0"!=n||"auto_debit_subscription"!=i?jQuery("#"+r+" .arm_module_gateway_fields").slideUp("slow").addClass("arm_hide"):(jQuery("#"+r+" .arm_module_gateway_fields").not(".arm_module_gateway_fields_"+a).slideUp("slow").addClass("arm_hide"),jQuery("#"+r+" .arm_module_gateway_fields_"+a).slideDown("slow").removeClass("arm_hide")),t(function(){jQuery("#"+r+' [data-id="arm_front_plan_skin_type"]').val();armSetupHideShowSections("#"+r)})},e.armPaymentCycleChange=function(r,t){var a=e["payment_cycle_"+r],n=jQuery("#"+t),i=(angular.element("[data-ng-controller=ARMCtrl]").scope(),jQuery('md-option[data-plan_id="'+r+'"][value="'+a+'"]').attr("data-plan_amount")),o=(jQuery(n).find('[data-id="arm_front_plan_skin_type"]').val(),jQuery(n).find("input.arm_module_plan_input:checked"));o.parents(".arm_setup_column_item").find(".arm_module_plan_cycle_price").html(i),o.attr("data-amt",i),armUpdateOrderAmount1(o,n)},e.armSubmitBtnClick=function(e){return void 0!=e.isTrigger&&e.isTrigger?(e.preventDefault(),!1):void 0},e.armFormSubmit=function(r,t,a){if(r){var n=jQuery('[data-id="arm_front_gateway_skin_type"]').val();if("radio"==n){jQuery(".arm_module_gateways_container input.arm_module_gateway_input:checked").val()}else{var i=jQuery(".arm_module_gateway_input").attr("aria-owns");jQuery("#"+i).find("md-option:selected").attr("value")}arm_form_ajax_action(jQuery("#"+t)),jQuery("#"+t).hasClass("arm_form_edit_profile")||(e.arm_form.$setPristine(!0),e.arm_form.$setUntouched())}else{if(void 0!=a.isTrigger&&a.isTrigger)return a.preventDefault(),!1;e.armsetFormErrors(e.arm_form,t)}},e.armSetDefaultPaymentGateway=function(r){e.arm_form.payment_gateway=r},e.isPaymentGatewayField=function(r){if(void 0!=e.arm_form.arm_plan_type&&"free"==e.arm_form.arm_plan_type)return!1;if(e.arm_form.payment_gateway==r){var t=jQuery('[data-id="arm_total_payable_amount"]').val(),a=jQuery("[name=arm_selected_payment_mode]:checked").val(),n=jQuery(".arm_module_plan_input:checked").attr("data-type");return"recurring"==n?"0.00"!=t&&"0"!=t||"auto_debit_subscription"==a:"0.00"!=t&&"0"!=t}return!1},e.armisminlengthField=function(r){return e.arm_form.payment_gateway==r?"13":""},e.armSetupFormSubmit=function(r,t,a){if(r){var n=(jQuery("#"+t).find('[data-id="arm_front_plan_skin_type"]').val(),jQuery("#"+t).find("#arm_front_gateway_skin_type").val());if("radio"==n){jQuery("#"+t).find("input.arm_module_gateway_input:checked").val()}else{var i=jQuery("#"+t).find(".arm_module_gateway_input").attr("aria-owns");jQuery("#"+i).find("md-option:selected").attr("value")}var o=jQuery("#"+t).find(".arm_module_plans_container .arm_module_plan_input:checked").attr("data-type");"free"==o?arm_setup_form_ajax_action(jQuery("#"+t)):arm_setup_form_ajax_action(jQuery("#"+t)),e.arm_form.$setPristine(!0),e.arm_form.$setUntouched()}else{if(void 0!=a.isTrigger&&a.isTrigger)return a.preventDefault(),!1;e.armsetFormErrors(e.arm_form,t)}},e.armsetFormErrors=function(e,r){if(angular.forEach(e.$error,function(e){angular.forEach(e,function(e){e.$setTouched(),e.$setDirty()})}),r){var t=jQuery("#"+r).find(".ng-invalid");if(t.length>0){t[0].focus();var a=jQuery("#"+t[0].id).offset().top;jQuery(window).scrollTop(a-70)}}},e.reset=function(e){e&&(e.$setValidity(),e.$setPristine(),e.$setUntouched())},e.resetForm=function(e,r){e&&(jQuery("#"+r).find("[data-ng-model]").each(function(){var r=jQuery(this).attr("type");if("hidden"!=r){var t=jQuery(this).attr("name"),a=jQuery(this).attr("type");void 0!=e[t]&&"object"==jQuery.type(e[t])&&(e[t].$setViewValue(null),e[t].$modelValue="",e[t].$setPristine(),e[t].$setUntouched(),""!=jQuery(this).val()&&jQuery(this).val(""),"file"==a&&jQuery(".armFileRemoveContainer").trigger("click"))}}),e.$setPristine(),e.$setUntouched())},e.isSomeSelected=function(e){return e?Object.keys(e).some(function(r){return e[r]}):!1},e.armFormCloseAccountSubmit=function(r,t){r?arm_form_close_account_action(jQuery("#"+t)):e.armsetFormErrors(e.arm_form_ca,t)}}function input(e){return{restrict:"E",require:"?ngModel",link:function(r,t,a,n){t.on("change",function(){if("arm_module_plan_input"==a["class"]&&"hidden"!=a.type){var e=jQuery('[data-id="arm_front_gateway_skin_type"]').val();if("dropdown"==e){var i=jQuery(".arm_module_gateway_input").attr("aria-owns"),o=jQuery("#"+i).find("md-option:first").attr("value");r.payment_gateway=o,r.armPaymentGatewayChange()}}r.$apply(function(){null!=n&&(n.$setViewValue(t.val()),n.$render())})}),a.ngModel&&a.value&&e(a.ngModel).assign(r,a.value)}}}function flnamecheck(){return{require:"ngModel",restrict:"C",link:function(e,r,t,a){e.$watch(function(){a.$parsers.unshift(function(e){var r=!/[%`\^&*(){}[\]<>?|]/.test(e);return a.$setValidity("flnamecheck",r),e})})}}}function customvalidationalpha(){return{require:"ngModel",restrict:"C",link:function(e,r,t,a){e.$watch(function(){a.$parsers.unshift(function(e){var r=!/[^a-zA-Z._]/.test(e);return a.$setValidity("customvalidationalpha",r),e})})}}}function customvalidationnumber(){return{require:"ngModel",restrict:"C",link:function(e,r,t,a){e.$watch(function(){a.$parsers.unshift(function(e){var r=!/[^0-9._]/.test(e);return a.$setValidity("customvalidationnumber",r),e})})}}}function customvalidationalphanumber(){return{require:"ngModel",restrict:"C",link:function(e,r,t,a){e.$watch(function(){a.$parsers.unshift(function(e){var r=!/[^a-zA-Z0-9._]/.test(e);return a.$setValidity("customvalidationalphanumber",r),e})})}}}function existcheck(e,r){return{require:"ngModel",restrict:"C",link:function(e,t,a,n){t.on("blur",function(){var e=a.name,i=t.val();if(n&&i&&e&&"arm_form_edit_profile"!=t.parents("form").attr("id")){var o={action:"arm_check_exist_field",field:e,value:i};r.post(__ARMAJAXURL+"?action=arm_check_exist_field&field="+e+"&value="+i,o).then(function(e){"0"==e.data.check?n.$setValidity("existcheck",!1):n.$setValidity("existcheck",!0)})}})}}}function usernamecheck(){return{require:"ngModel",restrict:"C",link:function(e,r,t,a){r.on("blur",function(){var e=(t.name,r.val()),n=/^[0-9a-z]+$/i;r.hasClass("arm_multisite_validate")&&(n=/^[0-9a-z]+$/),n.test(e)?a.$setValidity("usernamecheck",!0):a.$setValidity("usernamecheck",!1)})}}}function armfileuploader(){return{require:"ngModel",priority:"10",link:function(e,r,t,a){r.on("change",function(){var t=r.val();t.substring(t.lastIndexOf(".")+1).toLowerCase();e.$apply(function(){a.$setViewValue(r.val()),a.$render()})});var n=r.prev().find(".armFileUploaderWrapper")[0];n.addEventListener("drop",function(){var t=r.parents(".armFileUploadWrapper").find("input.arm_file_url");t.on("change",function(){var r=jQuery(this).val();r.substring(r.lastIndexOf(".")+1).toLowerCase();e.$apply(function(){a.$setViewValue(r),a.$render()})})});var i=t.accept;a.$validators.accept=function(e){if(""!=e&&void 0!=e){var r=e.substring(e.lastIndexOf(".")+1).toLowerCase(),t=["php","php3","php4","php5","pl","py","jsp","asp","exe","cgi"];if(-1!==t.indexOf(r))return!1;if(void 0!=i){var a=i.replace(/\./g,"").split(",");return-1!==a.indexOf(r)}}return!0}}}}function checkStrength(){return{priority:"50",replace:!1,link:function(e,r,t){var a={colors:["#F00","#F90","#FF0","#9F0","#0F0"],mesureStrength:function(e){var r=0,t=/[!,%,&,@,#,$,^,*,?,_,~,-,+]/g,a=/[a-z]+/.test(e),n=/[A-Z]+/.test(e),i=/[0-9]+/.test(e),o=t.test(e),l=[a,n,i,o],u=jQuery.grep(l,function(e){return e===!0}).length;return r+=2*e.length+(e.length>=8?1:0),r+=10*u,r=e.length<=5?Math.min(r,10):r,r=1==u?Math.min(r,20):r,r=2==u?Math.min(r,30):r,r=3==u?Math.min(r,40):r,r=4==u?Math.min(r,50):r,r=30>r&&e.length>=10?30:r,r=40>r&&e.length>=15?40:r,r=50>r&&e.length>=20?50:r},getColor:function(e){var r=0;return r=10>=e?0:20>=e?1:30>=e?2:40>=e?3:50>=e?4:5,{idx:r+1,col:this.colors[r]}}};e.$watch(t.checkStrength,function(){var n=e.$eval(t.checkStrength);if(arm_pwdstrength_vweak=r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_block_container").attr("data-field-veryweak"),arm_pwdstrength_weak=r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_block_container").attr("data-field-weak"),arm_pwdstrength_good=r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_block_container").attr("data-field-good"),arm_pwdstrength_vgood=r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_block_container").attr("data-field-strong"),""===n||void 0==n)r.css({display:"inline"}),r.children("li").css({background:"#DDD"}).slice(0,1).css({background:"#F00"}),r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_label").addClass("too_short").html(arm_pwdstrength_vweak);else{var i=a.getColor(a.mesureStrength(n));r.css({display:"inline"}),r.children("li").css({background:"#DDD"}).slice(0,i.idx).css({background:i.col}),i.idx<2?r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_label").addClass("too_short").html(arm_pwdstrength_vweak):2==i.idx?r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_label").addClass("weak").html(arm_pwdstrength_weak):i.idx>2&&i.idx<5?r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_label").addClass("good").html(arm_pwdstrength_good):i.idx>4&&r.parents(".arm_form_input_wrapper").find(".arm_strength_meter_label").addClass("strong").html(arm_pwdstrength_vgood)}})},template:'<li class="arm_strength_meter_block" style="background: rgb(255, 0, 0);"></li><li class="arm_strength_meter_block" style="background: rgb(221, 221, 221);"></li><li class="arm_strength_meter_block" style="background: rgb(221, 221, 221);"></li><li class="arm_strength_meter_block" style="background: rgb(221, 221, 221);"></li><li class="arm_strength_meter_block" style="background: rgb(221, 221, 221);"></li>'}}function compare(){return{require:"ngModel",transclude:!0,link:function(e,r,t,a){a.$validators.compare=function(){var e=r.parents("form"),a=e.find("."+t.compare).val(),n=r.val()===a;return n},void 0!=r.val()&&e.$watch(function(){a.$validate()})}}}function armlowercase(){return{priority:"51",restrict:"A",require:"ngModel",link:function(e,r,t,a){a.$validators.armlowercase=function(e){var r=/[a-z]/.test(e);return r}}}}function armuppercase(){return{priority:"52",restrict:"A",require:"ngModel",link:function(e,r,t,a){a.$validators.armuppercase=function(e){var r=/[A-Z]/.test(e);return r}}}}function armnumeric(){return{priority:"53",restrict:"A",require:"ngModel",link:function(e,r,t,a){a.$validators.armnumeric=function(e){var r=/[0-9]/.test(e);return r}}}}function armspecial(){return{priority:"54",restrict:"A",require:"ngModel",link:function(e,r,t,a){a.$validators.armspecial=function(e){var r=/[!,%,&,@,#,$,^,*,?,_,~,-,+]/.test(e);return r}}}}!function(){function e(e){function r(e){e&&t.push(e)}for(var t=[e],a=[],n=[],i=["ng:module","ng-module","x-ng-module","data-ng-module","ng:modules","ng-modules","x-ng-modules","data-ng-modules"],o=/\sng[:\-]module[s](:\s*([\w\d_]+);?)?\s/,l=0;l<i.length;l++){var u=i[l];if(r(document.getElementById(u)),u=u.replace(":","\\:"),e.querySelectorAll){var m;m=e.querySelectorAll("."+u);for(var c=0;c<m.length;c++)r(m[c]);m=e.querySelectorAll("."+u+"\\:");for(var c=0;c<m.length;c++)r(m[c]);m=e.querySelectorAll("["+u+"]");for(var c=0;c<m.length;c++)r(m[c])}}for(var l=0;l<t.length;l++){var e=t[l],s=" "+e.className+" ",d=o.exec(s);if(d)a.push(e),n.push((d[2]||"").replace(/\s+/g,","));else if(e.attributes)for(var c=0;c<e.attributes.length;c++){var _=e.attributes[c];-1!=i.indexOf(_.name)&&(a.push(e),n.push(_.value))}}for(var l=0;l<a.length;l++){var p=a[l],f=n[l].replace(/ /g,"").split(",");try{angular.bootstrap(p,f)}catch(h){}}}angular.element(document).ready(function(){e(document)})}();var ARMApp=angular.module("ARMApp",["ngAnimate","ngAria","ngMaterial","ngMessages"]),creditcardModules=["credit-cards"];(jQuery(".cardNumber").length||jQuery(".arm_renew_subscription_button").length)&&angular.forEach(creditcardModules,function(e){ARMApp.requires.push(e)}),ARMCtrl.$inject=["$scope","$http","$timeout"],ARMApp.controller("ARMCtrl",ARMCtrl),input.$inject=["$parse"],ARMApp.directive("input",input),flnamecheck.$inject=["$q","$http","$templateCache"],ARMApp.directive("flnamecheck",flnamecheck),customvalidationalpha.$inject=["$q","$http","$templateCache"],ARMApp.directive("customvalidationalpha",customvalidationalpha),customvalidationnumber.$inject=["$q","$http","$templateCache"],ARMApp.directive("customvalidationnumber",customvalidationnumber),customvalidationalphanumber.$inject=["$q","$http","$templateCache"],ARMApp.directive("customvalidationalphanumber",customvalidationalphanumber),existcheck.$inject=["$q","$http","$templateCache"],ARMApp.directive("existcheck",existcheck),usernamecheck.$inject=["$q","$http","$templateCache"],ARMApp.directive("usernamecheck",usernamecheck),ARMApp.directive("armfileuploader",armfileuploader),ARMApp.directive("checkStrength",checkStrength),ARMApp.directive("compare",compare),ARMApp.directive("armlowercase",armlowercase),ARMApp.directive("armuppercase",armuppercase),ARMApp.directive("armnumeric",armnumeric),ARMApp.directive("armspecial",armspecial),jQuery(document).on("click",function(e){var r=jQuery(e.target),t=jQuery("md-select .md-select-menu-container");t.is(r)||0!==t.has(r).length||t.fadeOut()});